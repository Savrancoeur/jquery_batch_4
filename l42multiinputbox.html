<!doctype html>
<html>
    <head>
        <title>Multi Input Box</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />
        <link
            href="./libs/jquery-ui-1.13.2.custom/jquery-ui.min.css"
            rel="stylesheet"
            type="text/css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
            integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <style type="text/css">
            body {
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center mb-4">
                    <h3>Multi Input Box</h3>
                </div>

                <div class="col-md-3"></div>

                <div class="col-md-6">
                    <form action="" method="">
                        <div id="expboxes" class="mb-3 input-group expboxes">
                            <input
                                type="text"
                                name="exps[]"
                                class="form-control form-control-sm rounded-0"
                                placeholder="Enter your experiences"
                            />
                        </div>

                        <div class="d-flex justify-content-end">
                            <button
                                type="button"
                                class="btn btn-success btn-sm rounded-0 addbtn"
                                data-increment="1"
                            >
                                Add More
                            </button>
                        </div>
                    </form>
                </div>

                <div class="col-md-3"></div>
            </div>
        </div>

        <script
            type="text/javascript"
            src="./libs/jquery-3.7.1.min.js"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"
        ></script>
        <script
            src="./libs/jquery-ui-1.13.2.custom/jquery-ui.min.js"
            type="text/javascript"
        ></script>

        <script type="text/javascript">
            $(document).ready(function () {
                //Add
                $(".addbtn").click(function () {
                    let getnewid = $(this).data("increment");

                    let expboxes = $("#expboxes")
                        .wrap("<div></div>")
                        .parent()
                        .html();
                    console.log(expboxes);

                    $("#expboxes").unwrap();

                    //          insertBefore              .first()
                    $(expboxes).insertAfter($(".expboxes").last());

                    $(".expboxes")
                        .last()
                        .attr("id", "expboxes" + getnewid);

                    $("#expboxes" + getnewid).append(`<button
                        type="button"
                        class="btn btn-danger btn-sm rounded-0 ms-3 removebtn"
                        data-id="removebtn${getnewid}"
                    >
                        Remove
                    </button>`);

                    getnewid++;

                    $(this).data("increment", getnewid);
                    // console.log(getnewid);
                });

                //Remove
                $(document).on("click", ".removebtn", function () {
                    // console.log('hay');
                    $(this).parent().remove();
                });
            });
        </script>
    </body>
</html>
